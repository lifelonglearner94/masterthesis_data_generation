# Physics Configuration for Kubric Data Generation
# =================================================
# This file defines the parameter ranges for physics simulation

# Video specifications
video:
  resolution: 256
  num_frames: 32
  fps: 30             # Output video frame rate (previously it was 20)
  simulation_fps: 240  # Internal simulation rate

# Camera settings
camera:
  angle_degrees: 45
  distance: 14.0     # Increased to see larger arena
  focal_length: 35
  sensor_width: 32

# Environment
environment:
  floor_texture: "generate_grid_image/black_grid.png"  # Path relative to repo root
  # Floor texture tiling settings for visible grid in physics simulations
  floor_texture_tiling:
    enabled: true       # When true, texture tiles/repeats across floor
    scale: 3.0          # Number of tiles across floor (3 = ~4 meter grid cells for 12m arena)
  ambient_light: 0.3
  key_light_intensity: 1.0

# Dynamic object (cube)
object:
  type: "cube"
  size_range: [0.5, 0.8]  # Random size between these values
  mass_range: [0.5, 2.0]  # kg (used in Phase A_1)
  mass_fixed: 1.0         # kg (used in Phase B and A_2)
  # Initial position of the cube (XY is centered around (0, 0))
  #
  # Notes:
  # - Values are in meters in world coordinates.
  # - The sampler will clamp these ranges so the cube always spawns inside the arena.
  # - If omitted, defaults to spawning in the central 30% of the arena.
  initial_position:
    # Option A (explicit ranges):
    x_range: [-1.0, 1.0]
    y_range: [-1.0, 1.0]
    # Option B (alternative): comment out x/y ranges and use a fraction of the arena size.
    # xy_fraction_of_arena: 0.15

# Friction settings
friction:
  # Normal distribution (for Phase A_1 and A_2)
  normal:
    min: 0.6
    max: 0.9
  # Slippery / OOD distribution (for Phase B)
  slippery:
    min: 0.09
    max: 0.15


# Force impulse settings
force:
  # Magnitude range (Newtons) - tuned for ~1 second of visible motion
  magnitude_min: 3.0
  magnitude_max: 4.5
  # Direction constraints (applied on XY plane primarily)
  apply_at_frame: 1  # Apply force between frame 1 and 2
  z_component_range: [0, 0]  # Small vertical component -> NO VERTICAL SPEED !!!!!!!


# Dataset phase configuration
# Phase A_1: Random mass, normal friction (training)
# Phase B: Fixed mass, slippery/OOD friction
# Phase A_2: Fixed mass, normal friction (continuation)
dataset:
  # Phase definitions
  phase_a1:
    clips: 15000
    range: [0, 14999]
    mass_mode: "random"      # Use mass_range
    friction_mode: "normal"
  phase_b:
    clips: 1000
    range: [15000, 15999]
    mass_mode: "fixed"       # Use mass_fixed
    friction_mode: "slippery"
  phase_a2:
    clips: 1000
    range: [16000, 16999]
    mass_mode: "fixed"       # Use mass_fixed
    friction_mode: "normal"

  # Total clips
  total_clips: 17000
